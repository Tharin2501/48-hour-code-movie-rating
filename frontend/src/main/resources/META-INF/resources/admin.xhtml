<ui:composition template="layout.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:sec="http://www.springframework.org/security/tags" xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:define name="title">Admin</ui:define>
    <ui:define name="content">

        <sec:authorize access="hasAuthority('ADMIN')">

            <h2>Admin page</h2>

            <h3>Remove items:</h3>
            <ui:repeat value="#{movieController.allMovies}" var="movie">
                <h:form>
                    <h:outputText value="#{movie.title}"/>
                    <h:commandButton
                            value="Remove Movie"
                            action="#{adminController.removeItem(movie.id)}"
                            />
                </h:form>
            </ui:repeat>

        </sec:authorize>
    </ui:define>

</ui:composition>

